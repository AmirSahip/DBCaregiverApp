{% extends "base.html" %}

{% block title %}{% if job %}Edit{% else %}Add{% endif %} Job - Caregiver Platform{% endblock %}

{% block content %}
<h1>{% if job %}Edit{% else %}Add{% endif %} Job</h1>
<form method="POST">
    <div class="form-group">
        <label>Member:</label>
        <select name="member_user_id" required>
            {% for member in members %}
            <option value="{{ member.member_user_id }}" {% if job and job.member_user_id == member.member_user_id %}selected{% endif %}>
                Member ID: {{ member.member_user_id }}
            </option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label>Required Caregiving Type:</label>
        <select name="required_caregiving_type" required>
            <option value="babysitter" {% if job and job.required_caregiving_type == 'babysitter' %}selected{% endif %}>Babysitter</option>
            <option value="elderly care" {% if job and job.required_caregiving_type == 'elderly care' %}selected{% endif %}>Elderly Care</option>
            <option value="playmate" {% if job and job.required_caregiving_type == 'playmate' %}selected{% endif %}>Playmate</option>
        </select>
    </div>
    <div class="form-group">
        <label>Other Requirements:</label>
        <textarea name="other_requirements" rows="3">{{ job.other_requirements if job else '' }}</textarea>
    </div>
    <div class="form-group">
        <label>Date Posted:</label>
        <input type="date" name="date_posted" value="{{ job.date_posted if job else '' }}" required>
    </div>
    <button type="submit" class="btn btn-success">{% if job %}Update{% else %}Add{% endif %} Job</button>
    <a href="{{ url_for('jobs') }}" class="btn">Cancel</a>
</form>
{% endblock %}

