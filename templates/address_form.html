{% extends "base.html" %}

{% block title %}{% if address %}Edit{% else %}Add{% endif %} Address - Caregiver Platform{% endblock %}

{% block content %}
<h1>{% if address %}Edit{% else %}Add{% endif %} Address</h1>
<form method="POST">
    <div class="form-group">
        <label>Member:</label>
        <select name="member_user_id" {% if address %}disabled{% else %}required{% endif %}>
            {% for member in members %}
            <option value="{{ member.member_user_id }}" {% if address and address.member_user_id == member.member_user_id %}selected{% endif %}>
                Member ID: {{ member.member_user_id }}
            </option>
            {% endfor %}
        </select>
        {% if address %}
        <input type="hidden" name="member_user_id" value="{{ address.member_user_id }}">
        {% endif %}
    </div>
    <div class="form-group">
        <label>House Number:</label>
        <input type="text" name="house_number" value="{{ address.house_number if address else '' }}">
    </div>
    <div class="form-group">
        <label>Street:</label>
        <input type="text" name="street" value="{{ address.street if address else '' }}" required>
    </div>
    <div class="form-group">
        <label>Town:</label>
        <input type="text" name="town" value="{{ address.town if address else '' }}">
    </div>
    <button type="submit" class="btn btn-success">{% if address %}Update{% else %}Add{% endif %} Address</button>
    <a href="{{ url_for('addresses') }}" class="btn">Cancel</a>
</form>
{% endblock %}

